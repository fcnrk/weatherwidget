<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Pişiren</title>

  <!-- Loew font for the widget -->
  <link href="https://fonts.cdnfonts.com/css/loew?styles=23687,23688,23690" rel="stylesheet">

  <style>
    /* ----- Base 16:9 container for Canva ----- */
    .container {
      position: relative;
      width: 100vw;
      height: 56.25vw;           /* 16:9 of width */
      max-height: 100vh;         /* don’t exceed viewport height */
      max-width: calc(100vh * 16 / 9);
      margin: 0 auto;
      box-shadow: 0 2px 8px rgba(63,69,81,.16);
      border-radius: 8px;
      overflow: hidden;
      background: #000;
    }

    .base-iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
      overflow: hidden;
    }
    .base-iframe::-webkit-scrollbar { display: none; }

    /* ----- Overlay box (your requested position) ----- */
    .overlay {
      position: absolute;
      top: 20%;
      left: 85%;
      width: 12%;
      height: 60%;
      z-index: 10;
      overflow: hidden;
      pointer-events: auto; /* set to 'none' if you want clicks to pass through */
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 8px;
      box-sizing: border-box;
      background: #1d2f5d; /* matches widget theme; remove if you want transparent */
      border-radius: 8px;
    }

    /* ----- Date/Time (kept) ----- */
    :root{
      --navy:#1d2f5d; --white:#ffffff; --muted:rgba(255,255,255,.85);
    }
    .weather-body {
      margin:0;
      color:var(--white);
      font-family: 'Loew', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      font-weight: 400; /* Regular default */
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .date{ font-size:22px; font-weight:600; letter-spacing:.5px; margin:0; }
    .weekday{ font-size:24px; font-weight:500; margin:0; color:var(--muted); }
    .clock{
      font-family: 'Loew', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      font-weight:300; /* Loew Light */
      font-size:54px; line-height:1; letter-spacing:1px; margin:4px 0 6px 0; color:var(--muted);
    }

    /* ----- WeatherWidget.io area ----- */
    .widget-container {
      position: relative;
      flex: 1 1 auto;
      min-height: 0;             /* allow the child to truly fill */
      border-radius: 6px;
      overflow: hidden;
    }
    /* the <a> placeholder */
    .weatherwidget-io {
      display: block !important;
      width: 300px !important;
      height: 100% !important;
      margin-top: 100px !important;
    }
    /* the injected iframe from weatherwidget.io */
    .widget-container iframe {
      width: 100% !important;
      height: 100% !important;
      border: 0 !important;
      display: block !important;
    }
  </style>
</head>
<body style="margin:0;background:#111">
  <div class="container">
    <!-- Canva base -->
    <iframe
      id="canvaFrame"
      class="base-iframe"
      src="https://www.canva.com/design/DAG3XduV8DU/O7wUnOPPNeKnxaaNCYefsw/watch?embed"
      allowfullscreen
      scrolling="no"
      loading="lazy">
    </iframe>

    <!-- Overlay region with date/time + WeatherWidget.io -->
    <div class="overlay" id="overlay">
      <div class="weather-body">
        <h1 id="date" class="date">--.--.----</h1>
        <h2 id="weekday" class="weekday">—</h2>
        <div id="clock" class="clock">--:--:--</div>
      </div>

      <div class="widget-container">
        <!-- WeatherWidget.io (fills the remaining space) -->
        <a class="weatherwidget-io"
           href="https://forecast7.com/tr/39d7730d53/eskisehir/"
           data-label_1="ESKİŞEHİR"
           data-label_2="Hava Durumu"
           data-font="Open Sans Condensed"
           data-icons="Climacons Animated"
           data-days="5"
           data-basecolor="#1d2f5d"
           data-textcolor="#ffffff">
           ESKİŞEHİR Hava Durumu
        </a>
      </div>
    </div>
  </div>

  <!-- (Optional) Attempt to auto-start Canva player — may be ignored by browser/Canva -->
  <script>
    const frame = document.getElementById('canvaFrame');
    frame.addEventListener('load', () => {
      try { frame.contentWindow?.focus?.(); } catch {}
      try { frame.contentWindow?.postMessage({ type: 'space' }, '*'); } catch {}
    });
  </script>

  <!-- Date/Time logic (kept) -->
  <script>
    const DAYS_TR = ["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"];
    function pad(n){ return String(n).padStart(2,'0'); }
    function updateClock(){
      const now = new Date();
      const d = pad(now.getDate()), m = pad(now.getMonth()+1), y = now.getFullYear();
      const hh = pad(now.getHours()), mm = pad(now.getMinutes()), ss = pad(now.getSeconds());
      document.getElementById('date').textContent = `${d}.${m}.${y}`;
      document.getElementById('weekday').textContent = DAYS_TR[now.getDay()];
      document.getElementById('clock').textContent = `${hh}:${mm}:${ss}`;
    }
    updateClock(); setInterval(updateClock, 1000);
  </script>

  <!-- WeatherWidget.io loader (must be after the <a> element above) -->
  <script>
    !function(d,s,id){
      var js,fjs=d.getElementsByTagName(s)[0];
      if(!d.getElementById(id)){
        js=d.createElement(s); js.id=id;
        js.src='https://weatherwidget.io/js/widget.min.js';
        fjs.parentNode.insertBefore(js,fjs);
      }
    }(document,'script','weatherwidget-io-js');
  </script>
</body>
</html>
